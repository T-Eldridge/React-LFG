(this["webpackJsonpreact-lfg"]=this["webpackJsonpreact-lfg"]||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(0),s=a.n(r),c=a(11),o=a.n(c),i=(a(93),a(20)),u=a(21),l=a(24),d=a(23),j=a(33),h=a(79),b=a(8),p=a(22),m=a(145),f=a(159),O=a(161),v=a(162),g=a(149),x=a(150),y=a(151),N=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userName:"",userPassword:"",redirect:!1,open:!1},e.toggleDialog=function(){return e.setState({open:!e.state.open})},e.handleTextChange=function(t){var a=Object(j.a)({},e.state);a[t.target.name]=t.target.value,e.setState(a)},e.login=function(t){t.preventDefault(),e.props.setUser(e.state.userName),console.log("im a person",e.props.userName,"stuff",e.state.userName)},e.createAccount=function(t){var a={userName:e.state.userName,userPassword:e.state.userPassword};t.preventDefault(),e.props.addUser(a),e.props.userName},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){this.props.userName&&(document.cookie="loggedIn=true;max-age=600*1000",this.setState({redirect:!0}))}},{key:"render",value:function(){return this.state.redirect?Object(n.jsx)(b.a,{to:"/dashboard"}):Object(n.jsx)("div",{children:Object(n.jsxs)(m.a,{maxWidth:"sm",children:[Object(n.jsx)("h3",{children:"Please Enter Login Information"}),Object(n.jsxs)("form",{className:"login-form",onSubmit:this.login,children:[Object(n.jsx)(f.a,{required:!0,onChange:this.handleTextChange,value:this.state.userName,name:"userName",label:"Username",type:"text"}),Object(n.jsx)(f.a,{required:!0,onChange:this.handleTextChange,value:this.state.userPassword,name:"userPassword",label:"Password",type:"password"}),!this.props.userName&&Object(n.jsx)(O.a,{type:"submit",className:"login-button",variant:"contained",color:"secondary",children:"Login"}),Object(n.jsx)("br",{}),Object(n.jsx)(O.a,{variant:"contained",className:"add-user",onClick:this.toggleDialog,children:"Sign Up!"})]}),Object(n.jsx)("div",{children:Object(n.jsxs)(v.a,{open:this.state.open,onClose:this.toggleDialog,children:[Object(n.jsx)(g.a,{children:"Join The Dork Side!"}),Object(n.jsx)(x.a,{children:Object(n.jsxs)("form",{onSubmit:this.createAccount,style:{display:"flex",flexDirection:"column",width:"350px"},children:[Object(n.jsx)(f.a,{id:"userName",placeholder:"Desired Username",value:this.state.userName,onChange:this.handleTextChange,name:"userName",label:"Username",type:"text",required:!0}),Object(n.jsx)(f.a,{id:"userPassword",placeholder:"Password",value:this.state.userPassword,onChange:this.handleTextChange,name:"userPassword",label:"Password",type:"password",required:!0}),Object(n.jsx)("br",{}),Object(n.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",children:Object(n.jsx)(y.a,{to:"/dashboard",children:"Submit!"})})]})})]})})]})})}}]),a}(r.Component),w=function(e){return{type:"USER",value:e}},F=function(e){return{type:"ADD_USER",value:e}},C=function(e){return{type:"SET_FAV",value:e}},D=function(e){return{type:"ADD_FAVORITE",value:e}},S=Object(p.b)((function(e){return{userName:e.userName,userPassword:e.userPassword}}),(function(e){return{addUser:function(t){return e((a=t,function(e){fetch("/auth/signup",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json().then((function(t){e(F(t))}))})).catch((function(e){return{type:"error",value:e}}))}));var a},setUser:function(t){return e(w(t))}}}))(N),P=a(77),G=a.n(P),k=a(45),T=a(64),A=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={results:[],input:"",gameID:null},e.onChange=function(t){e.setState({input:t.target.value})},e.getGames=function(t){t.preventDefault(),T("https://api.rawg.io/api/games?api_key=291d0c162cac4826b13adeca8fb3dcfe&search="+e.state.input).then((function(t){var a=t.data.results;e.setState({results:Object(k.a)(a)}),console.log(a)}))},e.handleAddFav=function(t){e.setState({gameID:t.target.id}),console.log("gameID",e.state.gameID);var a=e.props.favGameObj,n=t.currentTarget.id,r=e.props.favorites.find((function(e){return e.gameID==n})),s=e.state.results.find((function(e){return e.id==n}));a.username=e.props.userName,a.gameID=s.id,a.gameName=s.name,e.props.setFavGameObj(a),T.post("/favorites",a),!r&&e.props.addFav(a)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return console.log("searchform props",this.props.userName),Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:this.getGames,children:[Object(n.jsx)("input",{onChange:this.onChange}),Object(n.jsx)("button",{type:"submit",children:"Find Game"}),this.state.results.map((function(t){return Object(n.jsxs)("p",{children:[" ",Object(n.jsx)("h2",{children:t.name}),e.props.userName&&Object(n.jsx)(O.a,{id:t.id,onClick:e.handleAddFav,color:"secondary",variant:"contained",children:"Favorite"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("img",{src:t.background_image,alt:"game art",width:"250",height:"250"}),Object(n.jsxs)("h4",{children:["Game Rating: ",t.rating]}),Object(n.jsxs)("h4",{children:["Date Released: ",t.released]})]})]})}))]})})}}]),a}(r.Component),I=Object(p.b)((function(e){return{userName:e.userName,userPassword:e.userPassword,favorites:e.favorites,favGameObj:e.favGameObj}}),(function(e){return{setFavGameObj:function(t){return e(C(t))},addFav:function(t){return e(D(t))}}}))(A),U=a(152),E=a(153),R=a(154),L=a(155),_=a(156),V=a(64),q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={favorites:[]},e.handleSubmit=function(t){var a=Object(j.a)({},e.state);a[t.target.id]=t.target.value,e.setState(a)},e.getFavs=function(){V("/favorites/".concat(e.props.userName)).then((function(t){var a=t.data;e.setState({favorites:a}),console.log("res",t),console.log("res.data",t.data),console.log("res.data.results",t.data.results),console.log("these are favs",a),console.log("fav state",e.state.favorites)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return console.log("dashboard props",this.props.userName),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)(U.a,{children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(R.a,{children:Object(n.jsxs)(L.a,{align:"center",size:"small",variant:"head",children:[" ",Object(n.jsxs)("h2",{children:[this.props.userName,"'s Favorite Games: "]})]})})}),Object(n.jsx)(_.a,{children:this.state.favorites.map((function(e){return Object(n.jsx)("h2",{children:e.gameName})}))})]}),Object(n.jsx)(O.a,{onClick:this.getFavs,variant:"contained",color:"secondary",children:"My Favorites"}),Object(n.jsx)(A,{userName:this.props.userName,setFavGameObj:this.props.setFavGameObj,favorites:this.props.favorites,addFav:this.props.addFav,favGameObj:this.props.favGameObj})]})})}}]),a}(r.Component),J=Object(p.b)((function(e){return{userName:e.userName,favorites:e.favorites,favGameObj:e.favGameObj}}),(function(e){return{setFavGameObj:function(t){return e(C(t))},addFav:function(t){return e(D(t))}}}))(q),M=function(e){var t=e.component,a=Object(h.a)(e,["component"]);return Object(n.jsx)(b.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return G.a.parse(document.cookie).loggedIn?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(b.a,{to:"/login"})}}))},B=function(){return Object(n.jsxs)(b.d,{children:[Object(n.jsx)(M,{path:"/dashboard",component:J}),Object(n.jsx)(b.b,{path:"/login",component:S}),Object(n.jsx)(b.b,{path:"/searchform",component:I}),Object(n.jsx)(b.b,{path:"/",component:I})]})},W=a(41),z=(a(116),a(38)),H=Object(z.c)({favGameObj:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAV":return Object.assign({},e,t.value);default:return e}},userName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER":case"LOGOUT":return t.value;default:return e}},userPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PASSWORD":return t.value;default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return[].concat(Object(k.a)(e),[t.value]);case"REMOVE_FAVORITE":var a=Object(k.a)(e);return a.splice(t.value,1),a;default:return e}}}),K=a(78),Q=Object(z.d)(H,{userName:"",userPassword:"",favorites:[],favGameObj:{username:"",gameID:null,gameName:""}},Object(z.a)(K.a)),X=a(157),Y=a(158),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(X.a,{className:"nav-image",position:"static",children:[Object(n.jsx)(Y.a,{children:Object(n.jsx)("h1",{children:"Looking For Games"})}),Object(n.jsxs)("div",{align:"center",children:[Object(n.jsx)(O.a,{variant:"contained",color:"secondary",children:Object(n.jsx)(W.b,{to:"/searchform",children:"Home"})}),this.props.userName?Object(n.jsxs)(O.a,{variant:"contained",color:"secondary",onClick:function(){return e.props.setUser("")},children:[" ",Object(n.jsx)(W.b,{to:"/searchform",children:"Logout"})]}):Object(n.jsx)(O.a,{variant:"contained",color:"secondary",children:Object(n.jsx)(W.b,{to:"/login",children:"Login"})})]})]})}}]),a}(r.Component),$=Object(p.b)((function(e){return{favorites:e.favorites,userName:e.userName,userPassword:e.userPassword}}),(function(e){return{setUser:function(t){return e(w(t))}}}))(Z),ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)(p.a,{store:Q,children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(W.a,{children:[Object(n.jsx)($,{}),Object(n.jsx)(B,{})]})})})}}]),a}(r.Component),te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,164)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(ee,{})}),document.getElementById("root")),te()},93:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.33a10be1.chunk.js.map